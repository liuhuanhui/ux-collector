{"version":3,"sources":["webpack:///ux-collector.js","webpack:///webpack/bootstrap 54e94891b5d98d8068c3","webpack:///./index.js","webpack:///./src/main.js","webpack:///./src/utils.js","webpack:///./~/js-cookie/src/js.cookie.js","webpack:///./src/collectors/page_tracing.js","webpack:///./src/collectors/page_error.js","webpack:///./src/collectors/device_info.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","UXCollector","window","_send","collector","data","_beforeSend","Function","Image","src","utils","getUrl","_server","_collectorsHub","_collectorsAll","_collectors","setConfig","config","this","start","length","i","addCollector","name","collectorFn","push","url","encodeURIComponent","indexOf","substr","documentReady","callback","document","addEventListener","removeEventListener","arguments","callee","attachEvent","readyState","detachEvent","lastChild","body","Cookies","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","registeredInModuleLoader","undefined","OldCookies","api","noConflict","extend","result","attributes","key","init","converter","value","path","defaults","expires","Date","setMilliseconds","getMilliseconds","JSON","stringify","test","e","write","String","replace","decodeURIComponent","escape","cookie","toUTCString","domain","secure","join","cookies","split","rdecode","parts","slice","charAt","read","json","parse","set","get","getJSON","apply","remove","withConverter","collect","send","pageLoadTime","performance","timing","domLoading","domainLookupStart","referrer","setTimeout","oldErrorHandle","onerror","message","errorUrl","errorLine","errorColumn","screen","width","height","availWidth","availHeight","cookieName"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA;;;ADSM,SAASI,EAAQD,EAASH,GE5ChC,GAAAW,GAAAX,mBAAA,EACAY,QAAAD,cACAP,EAAAD,QAAAQ;;;AFwDM,SAASP,EAAQD,EAASH,GGUhC,QAAAa,GAAAC,EAAAC,GAEAC,YAAAC,WACAD,EAAAF,EAAAC,MAAA,KAKA,GAAAG,QAAAC,IAAAR,EAAAS,MAAAC,OAAAC,EAAAP,IA5EA,GAAAJ,MAEAY,KAEAC,KAGAF,EAAA,KAEAG,KAEAT,EAAA,IAKAL,GAAAS,MAAApB,gBAAA,GAOAW,EAAAe,UAAA,SAAAC,GAIA,MAHAL,GAAAK,EAAA,OACAF,EAAAE,EAAA,eACAX,EAAAW,EAAA,iBACAC,MAMAjB,EAAAkB,MAAA,WACAJ,EAAAK,SACAL,EAAAD,EAGA,QAAAO,GAAA,EAAmBA,EAAAN,EAAAK,OAAwBC,IAAA,CAC3C,GAAAjB,GAAAW,EAAAM,IACA,SAAAjB,GACAS,EAAAT,YAAAG,WACAM,EAAAT,GAAA,SAAAC,GACAF,EAAAC,EAAAC,MAGSD,KASTH,EAAAqB,aAAA,SAAAC,EAAAC,GACAX,EAAAU,IACAT,EAAAW,KAAAF,GAEAV,EAAAU,GAAAC,GAsBAlC,kCAAA,GAAAW,GAEAX,gCAAA,GAAAW,GAEAX,iCAAA,GAAAW,GACAP,EAAAD,QAAAQ;;;AHuEM,SAASP,EAAQD,EAASH,GI7JhCI,EAAAD,SAEAkB,OAAA,SAAAe,EAAArB,GACAA,OACA,IAAAL,GAAA,EACA,QAAAqB,KAAAhB,GACAL,GAAAqB,EAAA,IAAAM,mBAAAtB,EAAAgB,IAAA,GAKA,OAHArB,GAAAoB,OAAA,IACApB,GAAA0B,EAAAE,QAAA,gBAAA5B,EAAA6B,OAAA,EAAA7B,EAAAoB,OAAA,IAEAM,EAAA1B,GAGA8B,cAAA,SAAAC,GAEAC,SAAAC,iBACAD,SAAAC,iBAAA,8BACAD,SAAAE,oBAAA,mBAAAC,UAAAC,QAAA,GACAL,MACa,GAGbC,SAAAK,YACAL,SAAAK,YAAA,iCACA,YAAAL,SAAAM,aACAN,SAAAO,YAAA,qBAAAJ,UAAAC,QACAL,OAIAC,SAAAQ,WAAAR,SAAAS,MACAV,KAGAW,QAAApD,kBAAA;;;AJ0KM,SAASI,EAAQD,EAASH,GKhNhC,GAAAqD,GAAAC,GAOC,SAAAC,GACD,GAAAC,IAAA,CASA,IAPAH,EAAA,EAAAC,EAAA,kBAAAD,KAAA9C,KAAAJ,EAAAH,EAAAG,EAAAC,GAAAiD,IAAAI,SAAAH,IAAAlD,EAAAD,QAAAmD,IACAE,GAAA,EAGApD,EAAAD,QAAAoD,IACAC,GAAA,GAEAA,EAAA,CACA,GAAAE,GAAA9C,OAAAwC,QACAO,EAAA/C,OAAAwC,QAAAG,GACAI,GAAAC,WAAA,WAEA,MADAhD,QAAAwC,QAAAM,EACAC,KAGC,WACD,QAAAE,KAGA,IAFA,GAAA9B,GAAA,EACA+B,KACQ/B,EAAAc,UAAAf,OAAsBC,IAAA,CAC9B,GAAAgC,GAAAlB,UAAAd,EACA,QAAAiC,KAAAD,GACAD,EAAAE,GAAAD,EAAAC,GAGA,MAAAF,GAGA,QAAAG,GAAAC,GACA,QAAAP,GAAAK,EAAAG,EAAAJ,GACA,GAAAD,EACA,uBAAApB,UAAA,CAMA,GAAAG,UAAAf,OAAA,GAKA,GAJAiC,EAAAF,GACAO,KAAA,KACKT,EAAAU,SAAAN,GAEL,gBAAAA,GAAAO,QAAA,CACA,GAAAA,GAAA,GAAAC,KACAD,GAAAE,gBAAAF,EAAAG,kBAAA,MAAAV,EAAAO,SACAP,EAAAO,UAGA,IACAR,EAAAY,KAAAC,UAAAR,GACA,UAAcS,KAAAd,KACdK,EAAAL,GAEK,MAAAe,IAaL,MAPAV,GAJAD,EAAAY,MAIAZ,EAAAY,MAAAX,EAAAH,GAHA3B,mBAAA0C,OAAAZ,IACAa,QAAA,4DAAAC,oBAKAjB,EAAA3B,mBAAA0C,OAAAf,IACAA,IAAAgB,QAAA,2BAAAC,oBACAjB,IAAAgB,QAAA,UAAAE,QAEAxC,SAAAyC,QACAnB,EAAA,IAAAG,EACAJ,EAAAO,QAAA,aAA4BP,EAAAO,QAAAc,cAAA,GAC5BrB,EAAAK,KAAA,UAAyBL,EAAAK,KAAA,GACzBL,EAAAsB,OAAA,YAA2BtB,EAAAsB,OAAA,GAC3BtB,EAAAuB,OAAA,WAA2B,IAC3BC,KAAA,IAKAvB,IACAF,KAUA,KAJA,GAAA0B,GAAA9C,SAAAyC,OAAAzC,SAAAyC,OAAAM,MAAA,SACAC,EAAA,mBACA3D,EAAA,EAESA,EAAAyD,EAAA1D,OAAoBC,IAAA,CAC7B,GAAA4D,GAAAH,EAAAzD,GAAA0D,MAAA,KACAN,EAAAQ,EAAAC,MAAA,GAAAL,KAAA,IAEA,OAAAJ,EAAAU,OAAA,KACAV,IAAAS,MAAA,MAGA,KACA,GAAA3D,GAAA0D,EAAA,GAAAX,QAAAU,EAAAT,mBAKA,IAJAE,EAAAjB,EAAA4B,KACA5B,EAAA4B,KAAAX,EAAAlD,GAAAiC,EAAAiB,EAAAlD,IACAkD,EAAAH,QAAAU,EAAAT,oBAEArD,KAAAmE,KACA,IACAZ,EAAAT,KAAAsB,MAAAb,GACO,MAAAN,IAGP,GAAAb,IAAA/B,EAAA,CACA6B,EAAAqB,CACA,OAGAnB,IACAF,EAAA7B,GAAAkD,GAEK,MAAAN,KAGL,MAAAf,IAsBA,MAnBAH,GAAAsC,IAAAtC,EACAA,EAAAuC,IAAA,SAAAlC,GACA,MAAAL,GAAApD,KAAAoD,EAAAK,IAEAL,EAAAwC,QAAA,WACA,MAAAxC,GAAAyC,OACAL,MAAA,MACIH,MAAArF,KAAAsC,aAEJc,EAAAU,YAEAV,EAAA0C,OAAA,SAAArC,EAAAD,GACAJ,EAAAK,EAAA,GAAAH,EAAAE,GACAO,SAAA,MAIAX,EAAA2C,cAAArC,EAEAN,EAGA,MAAAM,GAAA;;;AL2NM,SAAS7D,EAAQD,GMjXvBC,EAAAD,QAAA,SAAAQ,GASA,QAAA4F,GAAAC,GAEA,GAAAC,GAAA,CACAC,0BAAAC,SACAF,EAAAC,YAAAC,OAAAC,WAAAF,YAAAC,OAAAE,kBAGA,IAAA9F,IAEAD,YAIAgG,SAAApE,SAAAoE,SAEAL,eAGAD,GAAAzF,GA1BA,GAAAD,GAAA,aACAH,GAAAqB,aAAAlB,EAAA,SAAA0F,GACA7F,EAAAS,MAAAoB,cAAA,WACAuE,WAAA,WACAR,EAAAC,IACa;;;ANqZP,SAASpG,EAAQD,GO3ZvBC,EAAAD,QAAA,SAAAQ,GACA,GAAAG,GAAA,WACAH,GAAAqB,aAAAlB,EAAA,SAAA0F,GACA,GAAAQ,GAAApG,OAAAqG,OAEArG,QAAAqG,QAAA,WACA,GAAAlG,IAEAD,YAEAoG,QAAArE,UAAA,GAEAsE,SAAAtE,UAAA,GAEAuE,UAAAvE,UAAA,GAEAwE,YAAAxE,UAAA,MAGA2D,GAAAzF,GAEAiG,YAAA/F,WACA+F,EAAAZ,MAAAxE,KAAAiB;;;AP6aM,SAASzC,EAAQD,GQncvBC,EAAAD,QAAA,SAAAQ,GAeA,QAAA4F,GAAAC,GACA,GAAAc,GAAA1G,OAAA0G,OACAvG,GAEAD,YAIAyG,MAAAD,EAAAC,MAEAC,OAAAF,EAAAE,OAEAC,WAAAH,EAAAG,WAEAC,YAAAJ,EAAAI,YAEAlB,GAAAzF,GA9BA,GAAAD,GAAA,aACA6G,EAAA,eACAhH,GAAAqB,aAAAlB,EAAA,SAAA0F,GACA7F,EAAAS,MAAAoB,cAAA,WAEA7B,EAAAS,MAAAgC,QAAA8C,IAAAyB,IAGAZ,WAAA,WACAR,EAAAC,GACA7F,EAAAS,MAAAgC,QAAA6C,IAAA0B,EAAA,GAA8DrD,QAAA,OACjD","file":"ux-collector.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by laiyq@txtws.com on 2016/11/3.\r\n\t */\r\n\tvar UXCollector = __webpack_require__(/*! ./src/main */ 1);\r\n\twindow.UXCollector = UXCollector;\r\n\tmodule.exports = UXCollector;\n\n/***/ },\n/* 1 */\n/*!*********************!*\\\n  !*** ./src/main.js ***!\n  \\*********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by laiyq@txtws.com on 2016/11/17.\r\n\t */\r\n\tvar UXCollector = {};\r\n\t//所有收集器\r\n\tvar _collectorsHub = {};\r\n\t//所有收集器名称\r\n\tvar _collectorsAll = [];\r\n\t\r\n\t//服务地址\r\n\tvar _server = null;\r\n\t//启用哪些收集器\r\n\tvar _collectors = [];\r\n\t//发送前调用\r\n\tvar _beforeSend = null;\r\n\t\r\n\t/**\r\n\t * 工具集\r\n\t */\r\n\tUXCollector.utils = __webpack_require__(/*! ./utils */ 2);\r\n\t\r\n\t/**\r\n\t * 配置\r\n\t * @param config\r\n\t * @returns {UXCollector}\r\n\t */\r\n\tUXCollector.setConfig = function (config) {\r\n\t    _server = config['server'];\r\n\t    _collectors = config['collectors'] || [];\r\n\t    _beforeSend = config['beforeSend'] || null;\r\n\t    return this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * 收集器启动\r\n\t */\r\n\tUXCollector.start = function () {\r\n\t    if (!_collectors.length) {\r\n\t        _collectors = _collectorsAll;\r\n\t    }\r\n\t    //执行收集器\r\n\t    for (var i = 0; i < _collectors.length; i++) {\r\n\t        var collector = _collectors[i];\r\n\t        (function (collector) {\r\n\t            if (_collectorsHub[collector] instanceof Function) {\r\n\t                _collectorsHub[collector](function (data) {\r\n\t                    _send(collector, data);\r\n\t                })\r\n\t            }\r\n\t        })(collector);\r\n\t    }\r\n\t};\r\n\t\r\n\t/**\r\n\t * 收集器\r\n\t * @param name\r\n\t * @param collectorFn\r\n\t */\r\n\tUXCollector.addCollector = function (name, collectorFn) {\r\n\t    if (!_collectorsHub[name]) {\r\n\t        _collectorsAll.push(name);\r\n\t    }\r\n\t    _collectorsHub[name] = collectorFn;\r\n\t};\r\n\t\r\n\t/**\r\n\t * 发送器\r\n\t * @param collector\r\n\t * @param data\r\n\t * @private\r\n\t */\r\n\tfunction _send(collector, data) {\r\n\t    //发送拦截\r\n\t    if (_beforeSend instanceof Function) {\r\n\t        if (_beforeSend(collector, data) === false) {\r\n\t            return;\r\n\t        }\r\n\t    }\r\n\t    //发送\r\n\t    (new Image()).src = UXCollector.utils.getUrl(_server, data);\r\n\t}\r\n\t\r\n\t/*----- 注册收集器 ----*/\r\n\t//页面追踪\r\n\t__webpack_require__(/*! ./collectors/page_tracing */ 4)(UXCollector);\r\n\t//页面错误\r\n\t__webpack_require__(/*! ./collectors/page_error */ 5)(UXCollector);\r\n\t//设备信息\r\n\t__webpack_require__(/*! ./collectors/device_info */ 6)(UXCollector);\r\n\tmodule.exports = UXCollector;\r\n\n\n/***/ },\n/* 2 */\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by laiyq@txtws.com on 2016/11/17.\r\n\t */\r\n\tmodule.exports = {\r\n\t    //获取完整的url\r\n\t    getUrl: function (url, data) {\r\n\t        data = data || {};\r\n\t        var p = '';\r\n\t        for (var i in data) {\r\n\t            p += i + \"=\" + encodeURIComponent(data[i]) + \"&\";\r\n\t        }\r\n\t        if (p.length > 0) {\r\n\t            p = (url.indexOf('?') > 0 ? \"&\" : \"?\") + p.substr(0, p.length - 1);\r\n\t        }\r\n\t        return url + p;\r\n\t    },\r\n\t    //DOM树已经加载完毕\r\n\t    documentReady: function (callback) {\r\n\t        ///兼容FF,Google\r\n\t        if (document.addEventListener) {\r\n\t            document.addEventListener('DOMContentLoaded', function () {\r\n\t                document.removeEventListener('DOMContentLoaded', arguments.callee, false);\r\n\t                callback();\r\n\t            }, false)\r\n\t        }\r\n\t        //兼容IE\r\n\t        else if (document.attachEvent) {\r\n\t            document.attachEvent('onreadytstatechange', function () {\r\n\t                if (document.readyState == \"complete\") {\r\n\t                    document.detachEvent(\"onreadystatechange\", arguments.callee);\r\n\t                    callback();\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if (document.lastChild == document.body) {\r\n\t            callback();\r\n\t        }\r\n\t    },\r\n\t    Cookies: __webpack_require__(/*! js-cookie */ 3)\r\n\t};\n\n/***/ },\n/* 3 */\n/*!**************************************!*\\\n  !*** ./~/js-cookie/src/js.cookie.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * JavaScript Cookie v2.1.3\n\t * https://github.com/js-cookie/js-cookie\n\t *\n\t * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n\t * Released under the MIT license\n\t */\n\t;(function (factory) {\n\t\tvar registeredInModuleLoader = false;\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t\tregisteredInModuleLoader = true;\n\t\t}\n\t\tif (true) {\n\t\t\tmodule.exports = factory();\n\t\t\tregisteredInModuleLoader = true;\n\t\t}\n\t\tif (!registeredInModuleLoader) {\n\t\t\tvar OldCookies = window.Cookies;\n\t\t\tvar api = window.Cookies = factory();\n\t\t\tapi.noConflict = function () {\n\t\t\t\twindow.Cookies = OldCookies;\n\t\t\t\treturn api;\n\t\t\t};\n\t\t}\n\t}(function () {\n\t\tfunction extend () {\n\t\t\tvar i = 0;\n\t\t\tvar result = {};\n\t\t\tfor (; i < arguments.length; i++) {\n\t\t\t\tvar attributes = arguments[ i ];\n\t\t\t\tfor (var key in attributes) {\n\t\t\t\t\tresult[key] = attributes[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\n\t\tfunction init (converter) {\n\t\t\tfunction api (key, value, attributes) {\n\t\t\t\tvar result;\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Write\n\t\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tattributes = extend({\n\t\t\t\t\t\tpath: '/'\n\t\t\t\t\t}, api.defaults, attributes);\n\t\n\t\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\n\t\t\t\t\tif (!converter.write) {\n\t\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\t\n\t\t\t\t\treturn (document.cookie = [\n\t\t\t\t\t\tkey, '=', value,\n\t\t\t\t\t\tattributes.expires ? '; expires=' + attributes.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n\t\t\t\t\t\tattributes.path ? '; path=' + attributes.path : '',\n\t\t\t\t\t\tattributes.domain ? '; domain=' + attributes.domain : '',\n\t\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t\t].join(''));\n\t\t\t\t}\n\t\n\t\t\t\t// Read\n\t\n\t\t\t\tif (!key) {\n\t\t\t\t\tresult = {};\n\t\t\t\t}\n\t\n\t\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t\t// calling \"get()\"\n\t\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\t\tvar i = 0;\n\t\n\t\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\t\tvar cookie = parts.slice(1).join('=');\n\t\n\t\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\t\n\t\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!key) {\n\t\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\tapi.set = api;\n\t\t\tapi.get = function (key) {\n\t\t\t\treturn api.call(api, key);\n\t\t\t};\n\t\t\tapi.getJSON = function () {\n\t\t\t\treturn api.apply({\n\t\t\t\t\tjson: true\n\t\t\t\t}, [].slice.call(arguments));\n\t\t\t};\n\t\t\tapi.defaults = {};\n\t\n\t\t\tapi.remove = function (key, attributes) {\n\t\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\t\texpires: -1\n\t\t\t\t}));\n\t\t\t};\n\t\n\t\t\tapi.withConverter = init;\n\t\n\t\t\treturn api;\n\t\t}\n\t\n\t\treturn init(function () {});\n\t}));\n\n\n/***/ },\n/* 4 */\n/*!****************************************!*\\\n  !*** ./src/collectors/page_tracing.js ***!\n  \\****************************************/\n/***/ function(module, exports) {\n\n\t/**\r\n\t * 页面追踪收集器\r\n\t * Created by laiyq@txtws.com on 2016/11/17.\r\n\t */\r\n\tmodule.exports = function (UXCollector) {\r\n\t    var collector = \"pageTracing\";\r\n\t    UXCollector.addCollector(collector, function (send) {\r\n\t        UXCollector.utils.documentReady(function () {\r\n\t            setTimeout(function () {\r\n\t                collect(send);\r\n\t            }, 300)\r\n\t        })\r\n\t    });\r\n\t    function collect(send) {\r\n\t        //页面加载时间\r\n\t        var pageLoadTime = 0;\r\n\t        if (performance && performance.timing) {\r\n\t            pageLoadTime = performance.timing.domLoading - performance.timing.domainLookupStart;\r\n\t        }\r\n\t\r\n\t        var data = {\r\n\t            //收集器名称\r\n\t            \"collector\": collector,\r\n\t            //当前页面地址：通过请求的referrer获取\r\n\t            // \"url\":\"\",\r\n\t            //页面来源地址\r\n\t            \"referrer\": document.referrer,\r\n\t            //页面加载时间,单位毫秒\r\n\t            \"pageLoadTime\": pageLoadTime\r\n\t            //用户标识，若需要请在beforeSend中添加，规范命名：userId\r\n\t        };\r\n\t        send(data);\r\n\t    };\r\n\t};\n\n/***/ },\n/* 5 */\n/*!**************************************!*\\\n  !*** ./src/collectors/page_error.js ***!\n  \\**************************************/\n/***/ function(module, exports) {\n\n\t/**\r\n\t * 页面错误收集器\r\n\t * Created by laiyq@txtws.com on 2016/11/17.\r\n\t */\r\n\tmodule.exports = function (UXCollector) {\r\n\t    var collector = \"pageError\";\r\n\t    UXCollector.addCollector(collector, function (send) {\r\n\t        var oldErrorHandle = window.onerror;\r\n\t        //全局异常捕获\r\n\t        window.onerror = function () {\r\n\t            var data = {\r\n\t                //收集器名称\r\n\t                \"collector\": collector,\r\n\t                //错误信息\r\n\t                \"message\": arguments[0],\r\n\t                //错误文件\r\n\t                \"errorUrl\": arguments[1],\r\n\t                //错误行号\r\n\t                \"errorLine\": arguments[2],\r\n\t                //错误列号\r\n\t                \"errorColumn\": arguments[3] || 0\r\n\t            };\r\n\t\r\n\t            send(data);\r\n\t\r\n\t            if (oldErrorHandle instanceof Function) {\r\n\t                oldErrorHandle.apply(this, arguments);\r\n\t            }\r\n\t        }\r\n\t    });\r\n\t};\r\n\n\n/***/ },\n/* 6 */\n/*!***************************************!*\\\n  !*** ./src/collectors/device_info.js ***!\n  \\***************************************/\n/***/ function(module, exports) {\n\n\t/**\r\n\t * 设备信息收集器\r\n\t * Created by laiyq@txtws.com on 2016/11/17.\r\n\t */\r\n\tmodule.exports = function (UXCollector) {\r\n\t    var collector = \"deviceInfo\";\r\n\t    var cookieName = \"uxcDeviceInfo\";\r\n\t    UXCollector.addCollector(collector, function (send) {\r\n\t        UXCollector.utils.documentReady(function () {\r\n\t            //一台设备值收集一次\r\n\t            if (UXCollector.utils.Cookies.get(cookieName)) {\r\n\t                return;\r\n\t            }\r\n\t            setTimeout(function () {\r\n\t                collect(send);\r\n\t                UXCollector.utils.Cookies.set(cookieName, 1, {expires: 365});\r\n\t            }, 300);\r\n\t        })\r\n\t    });\r\n\t    function collect(send) {\r\n\t        var screen = window.screen;\r\n\t        var data = {\r\n\t            //收集器名称\r\n\t            \"collector\": collector,\r\n\t            //浏览器版本：通过请求头的User-Agent获取\r\n\t            // \"userAgent\":\"\"\r\n\t            //分辨率宽度\r\n\t            \"width\": screen.width,\r\n\t            //分辨率高度\r\n\t            \"height\": screen.height,\r\n\t            //可用宽度\r\n\t            \"availWidth\": screen.availWidth,\r\n\t            //可用高度\r\n\t            \"availHeight\": screen.availHeight\r\n\t        };\r\n\t        send(data);\r\n\t    }\r\n\t};\r\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ux-collector.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 54e94891b5d98d8068c3","/**\r\n * Created by laiyq@txtws.com on 2016/11/3.\r\n */\r\nvar UXCollector = require('./src/main');\r\nwindow.UXCollector = UXCollector;\r\nmodule.exports = UXCollector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 0\n// module chunks = 0","/**\r\n * Created by laiyq@txtws.com on 2016/11/17.\r\n */\r\nvar UXCollector = {};\r\n//所有收集器\r\nvar _collectorsHub = {};\r\n//所有收集器名称\r\nvar _collectorsAll = [];\r\n\r\n//服务地址\r\nvar _server = null;\r\n//启用哪些收集器\r\nvar _collectors = [];\r\n//发送前调用\r\nvar _beforeSend = null;\r\n\r\n/**\r\n * 工具集\r\n */\r\nUXCollector.utils = require('./utils');\r\n\r\n/**\r\n * 配置\r\n * @param config\r\n * @returns {UXCollector}\r\n */\r\nUXCollector.setConfig = function (config) {\r\n    _server = config['server'];\r\n    _collectors = config['collectors'] || [];\r\n    _beforeSend = config['beforeSend'] || null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * 收集器启动\r\n */\r\nUXCollector.start = function () {\r\n    if (!_collectors.length) {\r\n        _collectors = _collectorsAll;\r\n    }\r\n    //执行收集器\r\n    for (var i = 0; i < _collectors.length; i++) {\r\n        var collector = _collectors[i];\r\n        (function (collector) {\r\n            if (_collectorsHub[collector] instanceof Function) {\r\n                _collectorsHub[collector](function (data) {\r\n                    _send(collector, data);\r\n                })\r\n            }\r\n        })(collector);\r\n    }\r\n};\r\n\r\n/**\r\n * 收集器\r\n * @param name\r\n * @param collectorFn\r\n */\r\nUXCollector.addCollector = function (name, collectorFn) {\r\n    if (!_collectorsHub[name]) {\r\n        _collectorsAll.push(name);\r\n    }\r\n    _collectorsHub[name] = collectorFn;\r\n};\r\n\r\n/**\r\n * 发送器\r\n * @param collector\r\n * @param data\r\n * @private\r\n */\r\nfunction _send(collector, data) {\r\n    //发送拦截\r\n    if (_beforeSend instanceof Function) {\r\n        if (_beforeSend(collector, data) === false) {\r\n            return;\r\n        }\r\n    }\r\n    //发送\r\n    (new Image()).src = UXCollector.utils.getUrl(_server, data);\r\n}\r\n\r\n/*----- 注册收集器 ----*/\r\n//页面追踪\r\nrequire('./collectors/page_tracing')(UXCollector);\r\n//页面错误\r\nrequire('./collectors/page_error')(UXCollector);\r\n//设备信息\r\nrequire('./collectors/device_info')(UXCollector);\r\nmodule.exports = UXCollector;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.js\n// module id = 1\n// module chunks = 0","/**\r\n * Created by laiyq@txtws.com on 2016/11/17.\r\n */\r\nmodule.exports = {\r\n    //获取完整的url\r\n    getUrl: function (url, data) {\r\n        data = data || {};\r\n        var p = '';\r\n        for (var i in data) {\r\n            p += i + \"=\" + encodeURIComponent(data[i]) + \"&\";\r\n        }\r\n        if (p.length > 0) {\r\n            p = (url.indexOf('?') > 0 ? \"&\" : \"?\") + p.substr(0, p.length - 1);\r\n        }\r\n        return url + p;\r\n    },\r\n    //DOM树已经加载完毕\r\n    documentReady: function (callback) {\r\n        ///兼容FF,Google\r\n        if (document.addEventListener) {\r\n            document.addEventListener('DOMContentLoaded', function () {\r\n                document.removeEventListener('DOMContentLoaded', arguments.callee, false);\r\n                callback();\r\n            }, false)\r\n        }\r\n        //兼容IE\r\n        else if (document.attachEvent) {\r\n            document.attachEvent('onreadytstatechange', function () {\r\n                if (document.readyState == \"complete\") {\r\n                    document.detachEvent(\"onreadystatechange\", arguments.callee);\r\n                    callback();\r\n                }\r\n            })\r\n        }\r\n        else if (document.lastChild == document.body) {\r\n            callback();\r\n        }\r\n    },\r\n    Cookies: require('js-cookie')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 2\n// module chunks = 0","/*!\n * JavaScript Cookie v2.1.3\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\treturn (document.cookie = [\n\t\t\t\t\tkey, '=', value,\n\t\t\t\t\tattributes.expires ? '; expires=' + attributes.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n\t\t\t\t\tattributes.path ? '; path=' + attributes.path : '',\n\t\t\t\t\tattributes.domain ? '; domain=' + attributes.domain : '',\n\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t].join(''));\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js-cookie/src/js.cookie.js\n// module id = 3\n// module chunks = 0","/**\r\n * 页面追踪收集器\r\n * Created by laiyq@txtws.com on 2016/11/17.\r\n */\r\nmodule.exports = function (UXCollector) {\r\n    var collector = \"pageTracing\";\r\n    UXCollector.addCollector(collector, function (send) {\r\n        UXCollector.utils.documentReady(function () {\r\n            setTimeout(function () {\r\n                collect(send);\r\n            }, 300)\r\n        })\r\n    });\r\n    function collect(send) {\r\n        //页面加载时间\r\n        var pageLoadTime = 0;\r\n        if (performance && performance.timing) {\r\n            pageLoadTime = performance.timing.domLoading - performance.timing.domainLookupStart;\r\n        }\r\n\r\n        var data = {\r\n            //收集器名称\r\n            \"collector\": collector,\r\n            //当前页面地址：通过请求的referrer获取\r\n            // \"url\":\"\",\r\n            //页面来源地址\r\n            \"referrer\": document.referrer,\r\n            //页面加载时间,单位毫秒\r\n            \"pageLoadTime\": pageLoadTime\r\n            //用户标识，若需要请在beforeSend中添加，规范命名：userId\r\n        };\r\n        send(data);\r\n    };\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/collectors/page_tracing.js\n// module id = 4\n// module chunks = 0","/**\r\n * 页面错误收集器\r\n * Created by laiyq@txtws.com on 2016/11/17.\r\n */\r\nmodule.exports = function (UXCollector) {\r\n    var collector = \"pageError\";\r\n    UXCollector.addCollector(collector, function (send) {\r\n        var oldErrorHandle = window.onerror;\r\n        //全局异常捕获\r\n        window.onerror = function () {\r\n            var data = {\r\n                //收集器名称\r\n                \"collector\": collector,\r\n                //错误信息\r\n                \"message\": arguments[0],\r\n                //错误文件\r\n                \"errorUrl\": arguments[1],\r\n                //错误行号\r\n                \"errorLine\": arguments[2],\r\n                //错误列号\r\n                \"errorColumn\": arguments[3] || 0\r\n            };\r\n\r\n            send(data);\r\n\r\n            if (oldErrorHandle instanceof Function) {\r\n                oldErrorHandle.apply(this, arguments);\r\n            }\r\n        }\r\n    });\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/collectors/page_error.js\n// module id = 5\n// module chunks = 0","/**\r\n * 设备信息收集器\r\n * Created by laiyq@txtws.com on 2016/11/17.\r\n */\r\nmodule.exports = function (UXCollector) {\r\n    var collector = \"deviceInfo\";\r\n    var cookieName = \"uxcDeviceInfo\";\r\n    UXCollector.addCollector(collector, function (send) {\r\n        UXCollector.utils.documentReady(function () {\r\n            //一台设备值收集一次\r\n            if (UXCollector.utils.Cookies.get(cookieName)) {\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                collect(send);\r\n                UXCollector.utils.Cookies.set(cookieName, 1, {expires: 365});\r\n            }, 300);\r\n        })\r\n    });\r\n    function collect(send) {\r\n        var screen = window.screen;\r\n        var data = {\r\n            //收集器名称\r\n            \"collector\": collector,\r\n            //浏览器版本：通过请求头的User-Agent获取\r\n            // \"userAgent\":\"\"\r\n            //分辨率宽度\r\n            \"width\": screen.width,\r\n            //分辨率高度\r\n            \"height\": screen.height,\r\n            //可用宽度\r\n            \"availWidth\": screen.availWidth,\r\n            //可用高度\r\n            \"availHeight\": screen.availHeight\r\n        };\r\n        send(data);\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/collectors/device_info.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}